/* ============================================
  üí† PAGE STYLES FOR input_step3_medtech
  - Light mode default, dark mode color overrides only.
  - Layout, spacing, shadows unified across both modes.
  ============================================ */

/* Reset & Base */
html { box-sizing: border-box; }
*, *::before, *::after { box-sizing: inherit; }

body.step3-page {
  font-family: "Noto Sans Thai", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  transition: background 0.3s ease, color 0.3s ease;
  background: #f9fafb; /* light background */
  color: #1f2937;      /* light text */
}

html.dark body.step3-page {
  background: #111827; /* dark background */
  color: #f9fafb;      /* dark text */
}

/* ============================================
   üìã PAGE HEADER
   ============================================ */
body.step3-page .page-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1.5rem;
}

body.step3-page .page-header h2 {
  color: #1f2937;
  font-size: 1.5rem;
  font-weight: 600;
  margin: 0;
  letter-spacing: 0.3px;
}

html.dark body.step3-page .page-header h2 { color: var(--text-primary); }

body.step3-page .header-buttons { display: flex; gap: 0.5rem; }

body.step3-page .icon-btn {
  border: 1px solid rgba(148,163,184,0.35);
  background: rgba(255,255,255,0.96);
  color: #0f172a;
  border-radius: 12px;
  padding: 0.55rem;
  width: 44px;
  height: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: 1.05rem;
  cursor: pointer;
  box-shadow: 0 14px 32px rgba(15,23,42,0.08);
  transition: all 0.2s ease;
}
body.step3-page .icon-btn:hover {
  transform: translateY(-2px);
  border-color: rgba(37,99,235,0.45);
  box-shadow: 0 18px 38px rgba(37,99,235,0.16);
}


/* ============================================
   üîΩ STEPS INDICATOR
   ============================================ */
body.step3-page .steps {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  gap: 18px;
  margin: 2.4rem 0 2rem;
}

body.step3-page .step,
body.step3-page .step.done {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 54px;
  height: 54px;
  border-radius: 20px;
  font-size: 1.2rem;
  font-weight: 600;
  background: rgba(248,249,252,0.95);
  color: #374151;
  border: 1px solid rgba(148,163,184,0.25);
  box-shadow: 0 20px 38px rgba(15,23,42,0.08);
  transition: all 0.2s ease;
}
body.step3-page .step.active {
  background: #2563eb;
  color: #ffffff;
  border-color: transparent;
  transform: translateY(-3px);
  box-shadow: 0 24px 44px rgba(37,99,235,0.25);
}
body.step3-page .step.done {
  background: rgba(53, 53, 139, 0.95);
  color: #ffffff;
  border-color: transparent;
}

body.step3-page .line {
  width: 68px;
  height: 4px;
  border-radius: 999px;
  background: rgba(148,163,184,0.25);
  position: relative;
  top: 25px;
}
body.step3-page .step.active + .line,
body.step3-page .step.done + .line { background: rgba(37,99,235,0.4); }

html.dark body.step3-page .step,
html.dark body.step3-page .step.done {
  background: #1f2937;
  color: #cbd5e1;
  border: 1px solid #2d3748;
  box-shadow: 0 14px 32px rgba(0,0,0,0.5);
}
html.dark body.step3-page .step.active {
  background: #2563eb;
  color: #ffffff;
  border-color: transparent;
  box-shadow: 0 16px 36px rgba(37,99,235,0.45);
}
html.dark body.step3-page .line { background: #334155; }
html.dark body.step3-page .step.active + .line,
html.dark body.step3-page .step.done + .line { background: #3b82f6; }

/* ============================================
   üì¶ CONTAINER
   ============================================ */
body.step3-page .step3-container {
  width: 760px;
  margin: 0 auto 2rem;
  border-radius: 22px;
  padding: 2.5rem 3rem;
  background: linear-gradient(180deg,rgba(255,255,255,0.98),rgba(250,251,255,0.98));
  box-shadow: 0 30px 80px rgba(15,23,42,0.08);
  border: 1px solid rgba(148,163,184,0.12);
}
body.step3-page .step3-container h3 {
  color: #1f2937;
  font-size: 1.25rem;
  font-weight: 600;
  margin: 0 0 1rem 0;
  letter-spacing: 0.2px;
}
html.dark body.step3-page .step3-container { background: linear-gradient(180deg,#1e2433,#292f43); border:1px solid #374151; box-shadow:0 30px 70px rgba(0,0,0,0.55); }
html.dark body.step3-page .step3-container h3 { color:#ffffff; }

/* ============================================
   üìù SUMMARY BOX
   ============================================ */
body.step3-page .summary-box {
  background: rgba(248,249,252,0.7);
  border: 1px solid rgba(148,163,184,0.18);
  border-radius: 14px;
  padding: 1.6rem;
  margin-top: 1.2rem;
  margin-bottom: 1.4rem;
}
body.step3-page .summary-box p {
  color: #374151;
  line-height: 1.6;
  margin: 0.5rem 0;
  font-size: 1rem;
}
body.step3-page .summary-box strong { color:#1f2937; font-weight:600; }
body.step3-page .summary-box #genotype,
body.step3-page .summary-box #patientName,
body.step3-page .summary-box #dnaType,
body.step3-page .summary-box #phenotype { color:#374151; font-weight:normal; }
/* Style genotype value as a token so both templates look identical */
body.step3-page .summary-box #genotype {
  display:inline-block;
  padding: 0.4rem 0.85rem;
  background:#f1f5f9;
  border:1px solid rgba(148,163,184,0.35);
  border-radius: 10px;
  font-weight:600;
  line-height:1;
  min-width:80px;
  text-align:center;
}
html.dark body.step3-page .summary-box { background: rgba(55,65,81,0.55); border:1px solid #3b4452; }
html.dark body.step3-page .summary-box p { color:#d1d5db; }
html.dark body.step3-page .summary-box strong { color:#ffffff; }
html.dark body.step3-page .summary-box #genotype,
html.dark body.step3-page .summary-box #patientName,
html.dark body.step3-page .summary-box #dnaType,
html.dark body.step3-page .summary-box #phenotype { color:#e5e7eb; }
html.dark body.step3-page .summary-box #genotype { background:#31384a; border-color:#465168; line-height:1; min-width:80px; text-align:center; padding:0.4rem 0.85rem; }

/* ============================================
   üìä RESULT TABLE
   ============================================ */
body.step3-page .result-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 1rem 0;
  border: none;
}
body.step3-page .result-table th,
body.step3-page .result-table td {
  background: transparent;
  border: none;
  border-bottom: 1px solid rgba(148,163,184,0.15);
  text-align: center;
  padding: 0.7rem 0.5rem;
  color: #374151;
  font-size: 0.95rem;
}
body.step3-page .result-table thead th {
  /* Make header look like the dark template's band in both modes */
  background: #eef2ff; /* light indigo tint */
  color: #1f2937;
  font-weight: 700;
  border-bottom: 2px solid rgba(148,163,184,0.2);
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 0.5px;
  padding: 0.9rem 0.5rem;
  box-shadow: inset 0 -1px 0 rgba(148,163,184,0.25);
}
/* Round only the outer edges so the header becomes one continuous bar */
body.step3-page .result-table thead th:first-child { border-top-left-radius: 10px; border-bottom-left-radius: 10px; }
body.step3-page .result-table thead th:last-child  { border-top-right-radius: 10px; border-bottom-right-radius: 10px; }
body.step3-page .result-table tbody tr:last-child td { border-bottom: none; }
/* Add a subtle divider under the table to match the second template */
body.step3-page .result-table { padding-bottom: 0.25rem; border-bottom: 1px solid rgba(148,163,184,0.25); }
html.dark body.step3-page .result-table th,
html.dark body.step3-page .result-table td { color:#e5e7eb; border-bottom:1px solid rgba(255,255,255,0.12); }
html.dark body.step3-page .result-table thead th {
  background:#2b3144; /* dark indigo band */
  color:#ffffff;
  font-weight:700;
  border-bottom:2px solid rgba(255,255,255,0.18);
  padding: 0.9rem 0.5rem;
  box-shadow: inset 0 -1px 0 rgba(0,0,0,0.35);
}
html.dark body.step3-page .result-table thead th:first-child { border-top-left-radius: 10px; border-bottom-left-radius: 10px; }
html.dark body.step3-page .result-table thead th:last-child  { border-top-right-radius: 10px; border-bottom-right-radius: 10px; }

/* ============================================
   üîò BUTTONS
   ============================================ */
body.step3-page .btn-area {
  display: flex;
  justify-content: flex-end;
  gap: 0.9rem;
  margin-top: 2rem;
}

body.step3-page .back-btn,
body.step3-page .print-btn,
body.step3-page .confirm-btn {
  border-radius: 12px;
  padding: 0.78rem 1.8rem;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.18s ease;
  border: 1px solid transparent;
}

body.step3-page .back-btn {
  background: rgba(248,249,252,0.9);
  color: #374151;
  border: 1px solid rgba(148,163,184,0.35);
}
body.step3-page .back-btn:hover {
  background: rgba(243,244,246,1);
  border-color: rgba(148,163,184,0.45);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(15,23,42,0.1);
}

body.step3-page .print-btn {
  background: rgba(248,249,252,0.9);
  color: #2563eb;
  border: 1px solid rgba(37,99,235,0.35);
}
body.step3-page .print-btn:hover {
  background: rgba(243,244,246,1);
  border-color: rgba(37,99,235,0.5);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(37,99,235,0.15);
}

body.step3-page .confirm-btn {
  background: #2563eb;
  color: #ffffff;
  border: 1px solid transparent;
  box-shadow: 0 6px 16px rgba(37,99,235,0.3);
}
body.step3-page .confirm-btn:hover {
  background: #1d4ed8;
  transform: translateY(-1px);
  box-shadow: 0 8px 20px rgba(37,99,235,0.35);
}

/* Disabled state for confirm button */
body.step3-page .confirm-btn:disabled,
body.step3-page .confirm-btn.disabled-confirmation {
  background: #cccccc !important;
  color: #666666 !important;
  cursor: not-allowed !important;
  opacity: 0.5 !important;
  pointer-events: none !important;
  border: 1px solid #999999 !important;
  box-shadow: none !important;
  transform: none !important;
}

body.step3-page .confirm-btn:disabled:hover,
body.step3-page .confirm-btn.disabled-confirmation:hover {
  background: #cccccc !important;
  transform: none !important;
  box-shadow: none !important;
}

html.dark body.step3-page .confirm-btn:disabled,
html.dark body.step3-page .confirm-btn.disabled-confirmation {
  background: #4b5563 !important;
  color: #9ca3af !important;
}

/* Dark mode color overrides only */
html.dark body.step3-page .back-btn { background:#374151; color:#e2e8f0; border:1px solid #4b5563; }
html.dark body.step3-page .back-btn:hover { background:#4b5563; box-shadow:0 4px 12px rgba(0,0,0,0.4); }
html.dark body.step3-page .print-btn { background:#1e293b; color:#60a5fa; border:1px solid #3b82f6; }
html.dark body.step3-page .print-btn:hover { background:#1f3a52; }
html.dark body.step3-page .confirm-btn { background: linear-gradient(135deg,#3b82f6,#2563eb); box-shadow:0 10px 28px rgba(37,99,235,0.45); }
html.dark body.step3-page .confirm-btn:hover { background: linear-gradient(135deg,#2563eb,#1d4ed8); box-shadow:0 12px 34px rgba(37,99,235,0.6); }

html.dark .page-header {
  background: var(--card-bg);
  border-color: var(--border);
  /* Box model properties inherited from light mode - only colors change */
}